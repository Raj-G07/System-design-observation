# üß¨ Prototype Design Pattern

## üìò Definition
The **Prototype Design Pattern** is a **creational pattern** that allows you to **create new objects by cloning existing ones**, rather than instantiating new ones from scratch.  

This pattern is particularly useful when **object creation is costly**, or when there are **many configurations** of an object that are similar to each other.

---

## üéØ Intent
!!! tip ""
    To specify the kinds of objects to create using a **prototypical instance**, and create new objects by **copying this prototype**.

---

## üí° Real-World Analogy
Think of **biological cloning** ‚Äî you can create identical copies of a living organism without recreating it from the very beginning.  
In software, the prototype is the original ‚Äútemplate object,‚Äù and cloning it creates new objects with the same state.

---

## ‚öôÔ∏è Key Participants

!!! details ""
    | Participant | Responsibility |
    |--------------|----------------|
    | **Prototype (Interface)** | Declares a `clone()` method. |
    | **ConcretePrototype** | Implements cloning operation. |
    | **Client** | Creates new objects by asking a prototype to clone itself. |

---

## üìä UML Diagram
!!! note ""
    ```mermaid
    classDiagram
        class Prototype {
            <<interface>>
            + clone() : Prototype*
        }
    
        class ConcretePrototype {
            - field : string
            + ConcretePrototype(string f)
            + clone() : Prototype*
            + show() : void
        }
    
        class Client {
            + main()
        }
    
        Prototype <|.. ConcretePrototype
        Client --> Prototype
    ```

---

## üíª C++ Implementation
```cpp title="prototype-design.cpp" linenums="1"
#include <iostream>
#include <string>
#include <memory>
using namespace std;

// Prototype Interface
class Prototype {
public:
    virtual unique_ptr<Prototype> clone() const = 0;
    virtual void show() const = 0;
    virtual ~Prototype() = default;
};

// Concrete Prototype
class ConcretePrototype : public Prototype {
private:
    string field;
public:
    ConcretePrototype(string f) : field(move(f)) {}

    unique_ptr<Prototype> clone() const override {
        cout << "Cloning object with field: " << field << endl;
        return make_unique<ConcretePrototype>(*this);
    }

    void show() const override {
        cout << "ConcretePrototype with field = " << field << endl;
    }
};

// Client Code
int main() {
    // Create the original prototype
    unique_ptr<Prototype> original = make_unique<ConcretePrototype>("Original");

    // Clone it multiple times
    auto copy1 = original->clone();
    auto copy2 = original->clone();

    // Modify clones (if needed)
    cout << "\nObjects created using prototype cloning:\n";
    original->show();
    copy1->show();
    copy2->show();

    return 0;
}
```

---

## üß† Output
```csharp linenums="1"
Cloning object with field: Original
Cloning object with field: Original

Objects created using prototype cloning:
ConcretePrototype with field = Original
ConcretePrototype with field = Original
ConcretePrototype with field = Original
```

---

## ‚úÖ Advantages
!!! success ""
    - **Improves performance** ‚Äî cloning is faster than reinitializing complex objects.
    - **Avoids subclass explosion** ‚Äî new configurations don‚Äôt require subclass creation.
    - **Simplifies object** creation when initialization is expensive or repetitive.

## ‚ö†Ô∏è Disadvantages
!!! warning ""
    - Requires deep copy logic for complex objects (especially with dynamic memory).
    - Cloning might become tricky if an object has circular references.

## üß± System Design View

In real-world systems:

  - Often used in game development to clone entities or environments.
  - Useful in document editors, where templates or styles are duplicated.
  - Common in data serialization systems, where objects are copied frequently.

## üîó References
???+ link 
     - [Refactoring Guru ‚Äì Prototype Pattern](https://refactoring.guru/design-patterns/prototype)
     - [GeeksforGeeks ‚Äì Prototype Design Pattern in C++](https://www.geeksforgeeks.org/system-design/prototype-design-pattern/)
     - [Wikipedia ‚Äì Prototype Pattern](https://en.wikipedia.org/wiki/Prototype_pattern)
